stages:
- stage: Dev
  jobs:
  - job: D1
  - job: D2
    steps:
    - bash: echo "This is Dev D2"

- stage: QA
  jobs:
  - job: Q1
    steps:
      - bash: echo "This is QA"

- stage: Prod
  jobs:
  - job: P1
    steps:
    - bash: echo "This is Production"

- stage: Test
  jobs:
  - job: T1
    steps:
    - bash: echo "This is Test"

- stage: DeployUS1
  jobs:
  - job: DeployUS1
    steps:
    - bash: echo "This is DeployUS1"
  dependsOn: Test    # this stage runs after Test

- stage: DeployUS2
  jobs:
  - job: DeployUS2
    steps:
    - bash: echo "This is US2"
  dependsOn: Test    # this stage runs in parallel with DeployUS1, after Test

- stage: DeployEurope
  jobs:
  - job: Europe
    steps:
    - bash: echo "This is Europe"
    dependsOn:         # this stage runs after DeployUS1 and DeployUS2
      - DeployUS1
      - DeployUS2
  - job: Sweden
    steps:
    - bash: echo "This is Sweden"